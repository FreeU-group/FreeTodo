# WhisperLiveKit ä¿®å¤è¯´æ˜

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### 1. è¯­è¨€ä»£ç é”™è¯¯ä¿®å¤
- **é—®é¢˜**: `ValueError: Unsupported language: zh-cn`
- **ä¿®å¤**: è‡ªåŠ¨å°† `zh` è½¬æ¢ä¸º `auto`ï¼ˆè‡ªåŠ¨æ£€æµ‹è¯­è¨€ï¼‰
- **ä½ç½®**: `lifetrace/services/whisperlivekit_service.py` ç¬¬ 60-64 è¡Œ

### 2. å¯åŠ¨è¶…æ—¶æ—¶é—´ä¼˜åŒ–
- **é—®é¢˜**: 10 ç§’è¶…æ—¶æ—¶é—´å¤ªçŸ­ï¼Œé¦–æ¬¡å¯åŠ¨ï¼ˆä¸‹è½½æ¨¡å‹ï¼‰éœ€è¦æ›´é•¿æ—¶é—´
- **ä¿®å¤**: 
  - è¶…æ—¶æ—¶é—´ä» 10 ç§’å¢åŠ åˆ° **60 ç§’**
  - æ·»åŠ è¿›åº¦æ—¥å¿—ï¼ˆæ¯ 5 ç§’è®°å½•ä¸€æ¬¡ï¼‰
  - æ”¹è¿›é”™è¯¯å¤„ç†å’Œæ—¥å¿—è¾“å‡º
- **ä½ç½®**: `lifetrace/services/whisperlivekit_service.py` ç¬¬ 90-145 è¡Œ

### 3. æ•°æ®åº“è¿ç§»ç¼–ç é—®é¢˜ä¿®å¤
- **é—®é¢˜**: `UnicodeDecodeError: 'gbk' codec can't decode`
- **ä¿®å¤**:
  - ç§»é™¤ `alembic.ini` ä¸­çš„ä¸­æ–‡æ³¨é‡Š
  - åœ¨ `env.py` ä¸­æ·»åŠ  configparser è¡¥ä¸ï¼Œå¼ºåˆ¶ä½¿ç”¨ UTF-8
- **ä½ç½®**: 
  - `lifetrace/alembic.ini`
  - `lifetrace/migrations/env.py` ç¬¬ 10-29 è¡Œ

## ğŸ”„ é‡å¯æœåŠ¡å™¨ä»¥åº”ç”¨ä¿®å¤

ä¿®å¤åéœ€è¦é‡å¯æœåŠ¡å™¨ï¼š

```powershell
# åœæ­¢å½“å‰æœåŠ¡å™¨ï¼ˆCtrl+Cï¼‰
# ç„¶åé‡æ–°å¯åŠ¨
python -m lifetrace.server
```

## ğŸ“‹ éªŒè¯ä¿®å¤

å¯åŠ¨æœåŠ¡å™¨åï¼ŒæŸ¥çœ‹æ—¥å¿—åº”è¯¥çœ‹åˆ°ï¼š

1. **è¯­è¨€ä»£ç ä¿®å¤**:
   ```
   å¯åŠ¨ WhisperLiveKit æœåŠ¡å™¨: whisperlivekit-server --model base --language auto --port 8002
   ```
   ï¼ˆæ³¨æ„ï¼š`--language auto` è€Œä¸æ˜¯ `--language zh`ï¼‰

2. **å¯åŠ¨è¶…æ—¶ä¼˜åŒ–**:
   ```
   ç­‰å¾… WhisperLiveKit æœåŠ¡å™¨å¯åŠ¨ï¼ˆæœ€å¤šç­‰å¾… 60 ç§’ï¼‰...
   â³ WhisperLiveKit æœåŠ¡å™¨å¯åŠ¨ä¸­... (5/60 ç§’)
   â³ WhisperLiveKit æœåŠ¡å™¨å¯åŠ¨ä¸­... (10/60 ç§’)
   âœ… WhisperLiveKit æœåŠ¡å™¨å·²å¯åŠ¨ (ç«¯å£: 8002)ï¼Œè€—æ—¶: 15.3 ç§’
   ```

3. **å¦‚æœé¦–æ¬¡å¯åŠ¨ï¼ˆä¸‹è½½æ¨¡å‹ï¼‰**:
   - å¯èƒ½éœ€è¦ 30-60 ç§’
   - ä¼šçœ‹åˆ°å®šæœŸè¿›åº¦æ—¥å¿—
   - å®Œæˆåä¼šæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡å¯åŠ¨**: å¦‚æœé¦–æ¬¡è¿è¡Œï¼ŒWhisperLiveKit éœ€è¦ä¸‹è½½æ¨¡å‹ï¼ˆçº¦ 1.5GBï¼‰ï¼Œå¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´
2. **ç½‘ç»œè¦æ±‚**: ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œä»¥ä¾¿ä¸‹è½½æ¨¡å‹
3. **ç«¯å£å ç”¨**: ç¡®ä¿ç«¯å£ 8002 æœªè¢«å ç”¨

## ğŸ› å¦‚æœä»æœ‰é—®é¢˜

å¦‚æœæœåŠ¡å™¨å¯åŠ¨ä»ç„¶å¤±è´¥ï¼Œæ£€æŸ¥ï¼š

1. **æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—**:
   ```powershell
   # æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
   Get-Content lifetrace\data\logs\*.log -Tail 50
   ```

2. **æ‰‹åŠ¨æµ‹è¯• WhisperLiveKit**:
   ```powershell
   whisperlivekit-server --model base --language auto --port 8002
   ```

3. **æ£€æŸ¥ä¾èµ–**:
   ```powershell
   uv pip list | Select-String whisperlivekit
   ```





